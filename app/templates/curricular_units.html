{% extends "base.html" %}
{% set title = "Unidades Curriculares" %}
{% block content %}
{% if course_filter %}
  <p>Exibindo UCs do curso {{ course_name or course_filter }}.</p>
{% endif %}
<div class="actions">
  <a class="button" href="/curricular-units/new">Nova UC</a>
  <a class="button secondary" href="/curricular-units/batch{% if course_filter %}?course_id={{ course_filter }}{% endif %}">Cadastro em lote</a>
  {% if course_filter %}
    <a class="button ghost" href="/curricular-units">Ver todas</a>
  {% endif %}
</div>
<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Curso</th>
      <th>Nome</th>
      <th>Carga Horária</th>
      <th>Módulo</th>
      <th>Status</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for unit in units %}
    <tr>
      <td>{{ unit.id }}</td>
      <td>{{ unit.curso_id }}</td>
      <td>{{ unit.nome }}</td>
      <td>{{ unit.carga_horaria or '-' }}</td>
      <td>{{ unit.modulo or '-' }}</td>
      <td><span class="tag">{{ "Ativo" if unit.ativo else "Inativo" }}</span></td>
      <td>
        <div class="actions">
          <a class="button secondary" href="/curricular-units/{{ unit.id }}/edit">Editar</a>
          <form method="post" action="/curricular-units/{{ unit.id }}/delete">
            <button class="button danger" type="submit">Excluir</button>
          </form>
        </div>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
